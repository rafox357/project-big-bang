import{j as s}from"./jsx-runtime.PRPpl5vZ.js";import{r as n,R as d}from"./index.RYns6xqu.js";const i={highContrast:!1,fontSize:16,reducedMotion:!1},c=n.createContext({preferences:i,actions:{toggleHighContrast:()=>{},increaseFontSize:()=>{},decreaseFontSize:()=>{},toggleReducedMotion:()=>{}}});function g(){const r=d.useContext(c);if(!r)throw new Error("useA11y must be used within an A11yProvider");return r}function h({children:r}){const[t,o]=n.useState(i);n.useEffect(()=>{if(!(typeof window>"u"))try{const e=localStorage.getItem("a11yPreferences");e&&o(f=>({...f,...JSON.parse(e)}))}catch(e){console.error("Failed to load accessibility preferences:",e)}},[]),n.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("a11yPreferences",JSON.stringify(t))}catch(e){console.error("Failed to save accessibility preferences:",e)}},[t]);const a={preferences:t,actions:{toggleHighContrast:()=>o(e=>({...e,highContrast:!e.highContrast})),increaseFontSize:()=>o(e=>({...e,fontSize:Math.min(e.fontSize+2,24)})),decreaseFontSize:()=>o(e=>({...e,fontSize:Math.max(e.fontSize-2,12)})),toggleReducedMotion:()=>o(e=>({...e,reducedMotion:!e.reducedMotion}))}};return s.jsx(c.Provider,{value:a,children:s.jsx("div",{style:{fontSize:`${t.fontSize}px`},className:[t.highContrast&&"high-contrast",t.reducedMotion&&"reduce-motion"].filter(Boolean).join(" "),children:r})})}export{h as A,g as u};
