import{j as e}from"./jsx-runtime.PRPpl5vZ.js";import{r as a}from"./index.RYns6xqu.js";import{u as d}from"./AuthContext.DoUrysdl.js";function g(){const[t,n]=a.useState(!1),[r,u]=a.useState(""),[o,m]=a.useState(""),[i,l]=a.useState(""),{signIn:p,signUp:x}=d(),h=async s=>{s.preventDefault(),l("");try{t?await x(r,o):await p(r,o)}catch(c){l(c instanceof Error?c.message:"An error occurred")}};return e.jsx("div",{className:"w-full max-w-md mx-auto p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary mb-1",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:s=>u(s.target.value),className:"w-full px-3 py-2 bg-secondary rounded-lg border border-theme",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:o,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 bg-secondary rounded-lg border border-theme",required:!0})]}),i&&e.jsx("div",{className:"text-red-500 text-sm",children:i}),e.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-accent text-white rounded-lg hover:bg-accent-dark transition-colors",children:t?"Sign Up":"Sign In"}),e.jsx("button",{type:"button",onClick:()=>n(!t),className:"w-full text-sm text-secondary hover:text-primary transition-colors",children:t?"Already have an account? Sign In":"Need an account? Sign Up"})]})})}function w({children:t}){const{user:n,loading:r}=d();return typeof window>"u"||r?null:n?e.jsx(e.Fragment,{children:t}):e.jsx(g,{})}export{w as ProtectedRoute};
